/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2026 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */

#include <stdint.h>
#include<stdio.h>

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

void delay(void);
int main(void)
{
	uint32_t *const pRCC_AHB1_clkenRegister = (uint32_t *)(0x40023800+0x30);//this pointer is to point the content in RCC clk enable register for the port D
	uint32_t *const pGPIOD_MODER            = (uint32_t *)(0x40020C00+0x00);//this pointer is to point the content of the GPIO MODER register
	uint32_t *const pGPIOD_ODR           = (uint32_t *)(0x40020C00+0x14);//this pointer is used to modify the content of the output register of the port D
	uint8_t volatile value = 0; // used to act as counter bit
    /* Loop forever */
	*pRCC_AHB1_clkenRegister |=  0x1<<3;//used to enable the clock
	*pGPIOD_MODER &= (!(0xFF<<24));//used to clear portD, required bit fields to set as output
	*pGPIOD_MODER |= ((0x55<<24));//for setting the portD to output mode


	while( 1 )
	{
		*pGPIOD_ODR = (~(0xF<<12));//setting the output value as 0
		delay();
		*pGPIOD_ODR = (value<<12);
		value++;
		delay();
	}
}

void delay(void)
{
	for(uint32_t i = 0; i <= 500000; i++ );
}
